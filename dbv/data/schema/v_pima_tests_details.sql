CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `v_pima_tests_details` AS select `cd4`.`id` AS `cd4_test_id`,`pru`.`pima_upload_id` AS `pima_upload_id`,`pru`.`device_test_id` AS `device_test_id`,`pru`.`device_serial` AS `serial_number`,`pru`.`sample_code` AS `sample_code`,`pru`.`valid_test` AS `valid`,`pru`.`operator` AS `operator`,`pru`.`cd4_count` AS `cd4_count`,`pru`.`error_message` AS `error_message`,`pe`.`error_detail` AS `error_detail`,`pet`.`description` AS `description`,`pru`.`result_date` AS `result_date`,`fd`.`id` AS `facility_id`,`f`.`name` AS `facility_name`,`sc`.`id` AS `sub_county_id`,`sc`.`name` AS `sub_county_name`,`c`.`id` AS `county_id`,`c`.`name` AS `county_name`,`p`.`id` AS `partner_id`,`p`.`name` AS `partner_name` from ((((((((`pima_raw_upload` `pru` left join `facility_device` `fd` on((`pru`.`device_serial` = `fd`.`serial_number`))) left join `facility` `f` on((`fd`.`facility_id` = `f`.`id`))) left join `sub_county` `sc` on((`f`.`sub_county_id` = `sc`.`id`))) left join `county` `c` on((`sc`.`county_id` = `c`.`id`))) left join `partner` `p` on((`f`.`partner_id` = `p`.`id`))) left join `pima_error` `pe` on((`pru`.`error_message` = `pe`.`error_code`))) left join `pima_error_type` `pet` on((`pe`.`pima_error_type` = `pet`.`id`))) left join `cd4_test` `cd4` on((`cd4`.`id` = `pru`.`id`)))